syntax = "proto3";

option go_package = "github.com/lashajini/mind-palace/proto";

service Palace {
  rpc ApplyAddon(JoinedAddons) returns (AddonResult) {}
  rpc JoinAddons(Resource) returns (JoinedAddonsResponse) {}
}

message AddonResult {
  string id = 1;
  map<string, AddonResultInfo> data = 2;
}

message JoinedAddons {
  string file = 1;
  string id = 2;
  JoinedAddon addons = 3;
}


message JoinedAddonsResponse {
  repeated JoinedAddon addons = 1;
}

message JoinedAddon {
  repeated string names = 1;
  bool joined = 2;
}

message AddonResultInfo {
  repeated string value = 1;
  bool success = 2;
}

message Resource {
  string file = 1;
  string id = 2;
  repeated string steps = 3;
}
